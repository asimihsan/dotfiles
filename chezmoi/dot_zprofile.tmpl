export HOMEBREW_PREFIX=/opt/homebrew
export PATH="$HOMEBREW_PREFIX/bin:$HOMEBREW_PREFIX/sbin:$PATH"
export MANPATH="$HOMEBREW_PREFIX/share/man:${MANPATH:-}"
export INFOPATH="$HOMEBREW_PREFIX/share/info:${INFOPATH:-}"

# Added by Toolbox App
export PATH="$PATH:/Users/asimi/Library/Application Support/JetBrains/Toolbox/scripts"

export PATH="$PATH:$HOME/go/bin"

export PATH="$HOME/.local/share/mise/shims:$PATH"

# Language/SDK homes
export ANDROID_HOME="$HOME/Library/Android/sdk"
export ANDROID_NDK="/opt/homebrew/share/android-ndk"
export ANDROID_NDK_HOME="$ANDROID_NDK"
export NDK_HOME="$ANDROID_NDK_HOME"

# JAVA_HOME: compute once per login and cache for new shells
_java_cache="${XDG_CACHE_HOME:-$HOME/.cache}/zsh/java_home"
if [[ -r $_java_cache ]]; then
  export JAVA_HOME="$(<$_java_cache)"
else
  export JAVA_HOME="$($HOME/bin/set-java-home.sh)"
  mkdir -p "${XDG_CACHE_HOME:-$HOME/.cache}/zsh"
  print -r -- "$JAVA_HOME" >| "$_java_cache" 2>/dev/null || true
fi

# Misc global env
export DOTNET_CLI_TELEMETRY_OPTOUT=1

# One-time PATH augments (in addition to brew's PATH)
export PATH="$PATH:$HOME/.pub-cache/bin"
export PATH="$PATH:/Users/asimi/.local/bin:/Users/asimi/bin:/Users/asimi/.dotnet/tools"

# Things that depend on HOMEBREW_PREFIX
export PLANTUML_JAR="${HOMEBREW_PREFIX}/opt/plantuml/libexec/plantuml.jar"

# LS_COLORS: cache vivid output
_ls_cache="${XDG_CACHE_HOME:-$HOME/.cache}/zsh/ls_colors"
if [[ -r $_ls_cache ]]; then
  export LS_COLORS="$(<$_ls_cache)"
else
  export LS_COLORS="$(vivid generate molokai)"
  mkdir -p "${XDG_CACHE_HOME:-$HOME/.cache}/zsh"
  print -r -- "$LS_COLORS" >| "$_ls_cache" 2>/dev/null || true
fi
