#!/usr/bin/env bash

set -euxo pipefail

brew install git ripgrep
brew install coreutils fd
xcode-select --install || true
rustup component add rls
rustup component add clippy

# flycheck
brew install shellcheck
brew install hadolint

brew tap railwaycat/emacsmacport
brew install emacs-mac --with-native-comp --with-mac-metal --with-modules

if [ ! -d $HOME/.emacs.d ]
then
    git clone https://github.com/hlissner/doom-emacs $HOME/.emacs.d
    doom install
    doom upgrade
    doom sync
    doom env
fi
